Test Script: TS-032 - Receive Order Confirmation Email

Test Scenario: As a registered buyer, I want to receive an email confirmation after placing my order, so that I can have a record of my purchase.

Prerequisites:
- User has successfully completed an order
- Payment has been processed successfully
- Email service is configured and operational
- User has a valid email address on file

Test Data:
- User Email: john.doe@example.com
- Order Number: ORD-2025-001234
- Order Total: $128.80
- Order Items: Blue T-Shirt (Qty 2), Black Jeans (Qty 1)
- Shipping Address: 456 Oak Avenue, San Francisco, CA 94102

Test Steps:

GIVEN the user has completed payment successfully
WHEN the order is created in the system
THEN the system should trigger an order confirmation email

GIVEN the order confirmation email is triggered
WHEN the email is generated
THEN the email should be sent to the user's registered email address "john.doe@example.com"

GIVEN the email is sent
WHEN the user checks their email inbox within a few minutes
THEN the user should receive an email with subject line containing "Order Confirmation" or "Order Placed Successfully"
AND the email should be from the e-commerce website's official email address

GIVEN the user opens the confirmation email
WHEN the user reads the email content
THEN the email should contain the following information:
  - Order number (ORD-2025-001234)
  - Order date
  - Customer name
  - List of ordered items with quantities and prices
  - Order total amount ($128.80)
  - Billing address
  - Shipping address
  - Payment method used
  - Estimated delivery timeframe

GIVEN the email displays order items
WHEN the user reviews the items
THEN each item should be listed with:
  - Product name
  - Quantity ordered
  - Price per unit
  - Item total

GIVEN the email shows pricing information
WHEN the user reviews the costs
THEN the email should display:
  - Subtotal
  - Shipping cost
  - Tax amount
  - Order total
AND all prices should be in USD format

GIVEN the email contains order number
WHEN the user notes the order number
THEN the order number should match the order created in the system
AND should be in the format ORD-YYYY-XXXXXX or similar

GIVEN the email provides next steps
WHEN the user reads the email
THEN the email should include:
  - Thank you message
  - Information about order tracking
  - Link to view order details online
  - Customer support contact information
  - Link to track shipment (if available)

GIVEN the email contains links
WHEN the user clicks on "View Order Details" link
THEN the link should direct to the order details page
AND the user may need to login if not already logged in
AND the correct order should be displayed

GIVEN the user wants to keep a record
WHEN the user saves or prints the email
THEN the email should be well-formatted for printing
AND contain all necessary order information

Expected Result:
- Order confirmation email is sent automatically after order placement
- Email is sent to user's registered email address
- Email is received within a few minutes
- Email subject clearly indicates order confirmation
- Email contains complete order information
- All order details are accurate
- Order number, items, pricing, and addresses are included
- Email is professional and well-formatted
- Links in email are functional
- User can access order details via email link

Validation Points:
- Email is triggered after successful order creation
- Email is sent to correct email address
- Email subject line is appropriate
- Email sender address is correct
- Order number in email matches database order
- All ordered items are listed correctly
- Quantities and prices are accurate
- Order total is correct
- Billing and shipping addresses are correct
- Payment method is mentioned
- Email is properly formatted (HTML/text)
- Links in email are valid and functional
- Email delivery is successful (not spam)
- Email contains branding and company information
- Customer support contact information is provided
- Email transaction is logged in system
